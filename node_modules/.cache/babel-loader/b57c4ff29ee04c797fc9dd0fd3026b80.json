{"ast":null,"code":"import styles from\"./LoginPage.module.css\";import{useContext}from\"react\";import{Link,useNavigate}from'react-router-dom';import{AuthContext}from\"../../contexts/AuthContext\";import*as authService from\"../../services/authService\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function LoginPage(){var _useContext=useContext(AuthContext),userLogin=_useContext.userLogin;var navigate=useNavigate();var submitHandler=function submitHandler(e){e.preventDefault();var _Object$fromEntries=Object.fromEntries(new FormData(e.target)),email=_Object$fromEntries.email,password=_Object$fromEntries.password;if(email===\"\"||password===\"\"){alert(\"All fields must be filled!\");return;}authService.login(email,password).then(function(authData){userLogin(authData);navigate('/items');}).catch(function(){navigate('/');});};return/*#__PURE__*/_jsxs(\"div\",{className:styles.mainWrapper,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.innerWrapper,children:[/*#__PURE__*/_jsx(\"h1\",{className:styles.heading,children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{className:styles.inputFields,id:\"email\",type:\"email\",name:\"email\",placeholder:\"IvanIvanov@mail.com\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{className:styles.inputFields,id:\"password\",type:\"password\",name:\"password\",placeholder:\"******\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:styles.loginBtn,type:\"submit\",children:\"Login\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"If you already have an account \",/*#__PURE__*/_jsx(Link,{to:\"/register\",className:styles.sendToRegBtn,children:\"click here to register\"}),\"!\"]})]});}","map":{"version":3,"names":["styles","useContext","Link","useNavigate","AuthContext","authService","LoginPage","userLogin","navigate","submitHandler","e","preventDefault","Object","fromEntries","FormData","target","email","password","alert","login","then","authData","catch","mainWrapper","innerWrapper","heading","inputFields","loginBtn","sendToRegBtn"],"sources":["/Users/mariyannikolov/Documents/GitHub/BG-Baba/src/components/login-page/LoginPage.js"],"sourcesContent":["import styles from \"./LoginPage.module.css\";\nimport { useContext } from \"react\";\nimport {Link, useNavigate } from 'react-router-dom';\nimport { AuthContext } from \"../../contexts/AuthContext\";\nimport * as authService from \"../../services/authService\";\n\nexport function LoginPage() {\n  const { userLogin } = useContext(AuthContext);\n  const navigate = useNavigate();\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n\n    const {\n        email,\n        password,\n    } = Object.fromEntries(new FormData(e.target));\n\n    if (email === \"\" || password === \"\") {\n      alert(\"All fields must be filled!\");\n      return\n  }\n\n    authService.login(email, password)\n        .then(authData => {\n            userLogin(authData);\n            navigate('/items');\n        })\n        .catch(() => {\n            navigate('/');\n        });\n  }\n\n  return (\n    <div className={styles.mainWrapper}>\n      <div className={styles.innerWrapper}>\n        <h1 className={styles.heading}>Login</h1>\n        <form onSubmit={submitHandler}>\n        <div>\n          <label htmlFor=\"email\">Email:</label>\n          <input className={styles.inputFields}\n          id=\"email\"\n          type=\"email\" \n          name=\"email\"\n          placeholder=\"IvanIvanov@mail.com\"\n           />\n          </div>\n          <div>\n            <label htmlFor=\"password\">Password:</label>\n            <input className={styles.inputFields}\n            id=\"password\" \n            type=\"password\" \n            name=\"password\" \n            placeholder=\"******\" \n            />\n          </div>\n          <div>\n            <button className={styles.loginBtn} type=\"submit\">Login</button>\n          </div>\n        </form>\n        </div>\n        <div>If you already have an account <Link to=\"/register\" className={styles.sendToRegBtn}>click here to register</Link>!</div>\n    </div>\n  );\n}"],"mappings":"AAAA,MAAOA,OAAP,KAAmB,wBAAnB,CACA,OAASC,UAAT,KAA2B,OAA3B,CACA,OAAQC,IAAR,CAAcC,WAAd,KAAiC,kBAAjC,CACA,OAASC,WAAT,KAA4B,4BAA5B,CACA,MAAO,GAAKC,YAAZ,KAA6B,4BAA7B,C,wFAEA,MAAO,SAASC,UAAT,EAAqB,CAC1B,gBAAsBL,UAAU,CAACG,WAAD,CAAhC,CAAQG,SAAR,aAAQA,SAAR,CACA,GAAMC,SAAQ,CAAGL,WAAW,EAA5B,CAEA,GAAMM,cAAa,CAAG,QAAhBA,cAAgB,CAACC,CAAD,CAAO,CAC3BA,CAAC,CAACC,cAAF,GAEA,wBAGIC,MAAM,CAACC,WAAP,CAAmB,GAAIC,SAAJ,CAAaJ,CAAC,CAACK,MAAf,CAAnB,CAHJ,CACIC,KADJ,qBACIA,KADJ,CAEIC,QAFJ,qBAEIA,QAFJ,CAKA,GAAID,KAAK,GAAK,EAAV,EAAgBC,QAAQ,GAAK,EAAjC,CAAqC,CACnCC,KAAK,CAAC,4BAAD,CAAL,CACA,OACH,CAECb,WAAW,CAACc,KAAZ,CAAkBH,KAAlB,CAAyBC,QAAzB,EACKG,IADL,CACU,SAAAC,QAAQ,CAAI,CACdd,SAAS,CAACc,QAAD,CAAT,CACAb,QAAQ,CAAC,QAAD,CAAR,CACH,CAJL,EAKKc,KALL,CAKW,UAAM,CACTd,QAAQ,CAAC,GAAD,CAAR,CACH,CAPL,EAQD,CArBD,CAuBA,mBACE,aAAK,SAAS,CAAER,MAAM,CAACuB,WAAvB,wBACE,aAAK,SAAS,CAAEvB,MAAM,CAACwB,YAAvB,wBACE,WAAI,SAAS,CAAExB,MAAM,CAACyB,OAAtB,mBADF,cAEE,cAAM,QAAQ,CAAEhB,aAAhB,wBACA,oCACE,cAAO,OAAO,CAAC,OAAf,oBADF,cAEE,cAAO,SAAS,CAAET,MAAM,CAAC0B,WAAzB,CACA,EAAE,CAAC,OADH,CAEA,IAAI,CAAC,OAFL,CAGA,IAAI,CAAC,OAHL,CAIA,WAAW,CAAC,qBAJZ,EAFF,GADA,cAUE,oCACE,cAAO,OAAO,CAAC,UAAf,uBADF,cAEE,cAAO,SAAS,CAAE1B,MAAM,CAAC0B,WAAzB,CACA,EAAE,CAAC,UADH,CAEA,IAAI,CAAC,UAFL,CAGA,IAAI,CAAC,UAHL,CAIA,WAAW,CAAC,QAJZ,EAFF,GAVF,cAmBE,kCACE,eAAQ,SAAS,CAAE1B,MAAM,CAAC2B,QAA1B,CAAoC,IAAI,CAAC,QAAzC,mBADF,EAnBF,GAFF,GADF,cA2BI,sEAAoC,KAAC,IAAD,EAAM,EAAE,CAAC,WAAT,CAAqB,SAAS,CAAE3B,MAAM,CAAC4B,YAAvC,oCAApC,OA3BJ,GADF,CA+BD"},"metadata":{},"sourceType":"module"}