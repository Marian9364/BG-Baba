{"ast":null,"code":"var _jsxFileName = \"/Users/mariyannikolov/Documents/GitHub/BG-Baba/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { Route, Routes } from \"react-router-dom\";\nimport { useLocalStorage } from \"./hooks/useLocalStorage\";\nimport { AuthContext } from \"./contexts/AuthContext\";\nimport { Header } from \"./components/header/Header\";\nimport { MainPage } from \"./components/main-page/MainPage\";\nimport { AboutPage } from \"./components/about-page/AboutPage\";\nimport { RegisterPage } from \"./components/register-page/RegisterPage\";\nimport { ContactPage } from \"./components/contact-page/ContactPage\";\nimport { LoginPage } from \"./components/login-page/LoginPage\";\nimport { Footer } from \"./components/footer/Footer\";\nimport { ProfilePage } from \"./components/profile-page/ProfilePage\";\nimport { AllItemsPage } from \"./components/all-items-page/AllItemsPage\";\nimport { Logout } from \"./components/logout/Logout\";\nimport { AddItemPage } from \"./components/add-item-page/AddItemPage\";\nimport { EditItemPage } from \"./components/edit-page/EditPage\";\nimport { NotFoundPage } from \"./components/not-found-page/NotFoundPage\";\nimport { useState, useEffect } from \"react\";\nimport * as itemsService from \"./services/itemsService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [items, setItems] = useState([]);\n  const [auth, setAuth] = useLocalStorage(\"auth\", {});\n  const navigate = useNavigate();\n\n  const userLogin = authData => {\n    setAuth(authData);\n  };\n\n  const userLogout = () => {\n    setAuth({});\n  };\n\n  const addComment = (itemId, comment) => {\n    setItems(state => {\n      const item = state.find(x => x._id == itemId);\n      const comments = item.comments || [];\n      comments.push(comment);\n      return [...state.filter(x => x._id !== itemId), { ...item,\n        comments\n      }];\n    });\n  };\n\n  const addItem = itemData => {\n    setItems(state => [...state, itemData]);\n    navigate(\"/items\");\n  };\n\n  const editItem = (itemId, itemData) => {\n    setItems(state => state.map(x => x._id === itemId ? itemData : x));\n  };\n\n  useEffect(() => {\n    itemsService.getAll().then(result => {\n      setItems(result);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      user: auth,\n      userLogin,\n      userLogout\n    },\n    children: /*#__PURE__*/_jsxDEV(ItemContext.Provider, {\n      value: {\n        items,\n        addItem,\n        editItem\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          email: userEmail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(MainPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 36\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/login\",\n            element: /*#__PURE__*/_jsxDEV(LoginPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/register\",\n            element: /*#__PURE__*/_jsxDEV(RegisterPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 44\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/about\",\n            element: /*#__PURE__*/_jsxDEV(AboutPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/contact\",\n            element: /*#__PURE__*/_jsxDEV(ContactPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/user/:id\",\n            element: /*#__PURE__*/_jsxDEV(ProfilePage, {\n              name: userEmail\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 44\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/items\",\n            element: /*#__PURE__*/_jsxDEV(AllItemsPage, {\n              items: items\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/logout\",\n            element: /*#__PURE__*/_jsxDEV(Logout, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 42\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/add\",\n            element: /*#__PURE__*/_jsxDEV(AddItemPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 39\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/items/:itemId/edit\",\n            element: /*#__PURE__*/_jsxDEV(EditItemPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 54\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/items/:itemId\",\n            element: /*#__PURE__*/_jsxDEV(ItemDetails, {\n              items: items,\n              addComment: addComment\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 49\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"*\",\n            element: /*#__PURE__*/_jsxDEV(NotFoundPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 36\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"jsCFb0uNuFsjbue2B8nifYivaUI=\", true, function () {\n  return [useLocalStorage];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Route","Routes","useLocalStorage","AuthContext","Header","MainPage","AboutPage","RegisterPage","ContactPage","LoginPage","Footer","ProfilePage","AllItemsPage","Logout","AddItemPage","EditItemPage","NotFoundPage","useState","useEffect","itemsService","App","items","setItems","auth","setAuth","navigate","useNavigate","userLogin","authData","userLogout","addComment","itemId","comment","state","item","find","x","_id","comments","push","filter","addItem","itemData","editItem","map","getAll","then","result","user","userEmail"],"sources":["/Users/mariyannikolov/Documents/GitHub/BG-Baba/src/App.js"],"sourcesContent":["import { Route, Routes } from \"react-router-dom\";\nimport { useLocalStorage } from \"./hooks/useLocalStorage\";\nimport { AuthContext } from \"./contexts/AuthContext\";\nimport { Header } from \"./components/header/Header\";\nimport { MainPage } from \"./components/main-page/MainPage\";\nimport { AboutPage } from \"./components/about-page/AboutPage\";\nimport { RegisterPage } from \"./components/register-page/RegisterPage\";\nimport { ContactPage } from \"./components/contact-page/ContactPage\";\nimport { LoginPage } from \"./components/login-page/LoginPage\";\nimport { Footer } from \"./components/footer/Footer\";\nimport { ProfilePage } from \"./components/profile-page/ProfilePage\";\nimport { AllItemsPage } from \"./components/all-items-page/AllItemsPage\";\nimport { Logout } from \"./components/logout/Logout\";\nimport { AddItemPage } from \"./components/add-item-page/AddItemPage\";\nimport { EditItemPage } from \"./components/edit-page/EditPage\";\nimport { NotFoundPage } from \"./components/not-found-page/NotFoundPage\";\nimport { useState, useEffect } from \"react\";\nimport * as itemsService from \"./services/itemsService\";\n\nfunction App() {\n  const [items, setItems] = useState([]);\n\n  const [auth, setAuth] = useLocalStorage(\"auth\", {});\n  const navigate = useNavigate();\n\n  const userLogin = (authData) => {\n    setAuth(authData);\n  };\n\n  const userLogout = () => {\n    setAuth({});\n  };\n\n  const addComment = (itemId, comment) => {\n    setItems(state => {\n        const item = state.find(x => x._id == itemId);\n\n        const comments = item.comments || [];\n        comments.push(comment)\n\n        return [\n            ...state.filter(x => x._id !== itemId),\n            { ...item, comments },\n        ];\n    });\n};\n\n  const addItem = (itemData) => {\n    setItems((state) => [...state, itemData]);\n\n    navigate(\"/items\");\n  };\n  const editItem = (itemId, itemData) => {\n    setItems((state) => state.map((x) => (x._id === itemId ? itemData : x)));\n  };\n\n  useEffect(() => {\n    itemsService.getAll().then((result) => {\n      setItems(result);\n    });\n  }, []);\n\n\n\n  return (\n    <AuthContext.Provider value={{ user: auth, userLogin, userLogout }}>\n      <ItemContext.Provider value={{items, addItem, editItem}}>\n      <div className=\"App\">\n        <Header email={userEmail} />\n        <Routes>\n          <Route path=\"/\" element={<MainPage />} />\n          <Route path=\"/login\" element={<LoginPage />} />\n          <Route path=\"/register\" element={<RegisterPage />} />\n          <Route path=\"/about\" element={<AboutPage />} />\n          <Route path=\"/contact\" element={<ContactPage />} />\n          <Route path=\"/user/:id\" element={<ProfilePage name={userEmail} />} />\n          <Route path=\"/items\" element={<AllItemsPage items={items} />} />\n          <Route path=\"/logout\" element={<Logout />} />\n          <Route path=\"/add\" element={<AddItemPage />} />\n          <Route path=\"/items/:itemId/edit\" element={<EditItemPage />} />\n          <Route path=\"/items/:itemId\" element={<ItemDetails items={items} addComment={addComment} />} />\n          <Route path=\"*\" element={<NotFoundPage />} />\n        </Routes>\n        <Footer />\n      </div>\n      </ItemContext.Provider>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}