{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mariyannikolov/Documents/GitHub/BG-Baba/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/mariyannikolov/Documents/GitHub/BG-Baba/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/mariyannikolov/Documents/GitHub/BG-Baba/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var request=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(method,url,data){var user,auth,headers,buildRequest,response,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;user=localStorage.getItem('auth');auth=JSON.parse(user||'{}');headers={};if(auth.accessToken){headers['X-Authorization']=auth.accessToken;}if(method==='GET'){buildRequest=fetch(url,{headers:headers});}else{buildRequest=fetch(url,{method:method,headers:_objectSpread(_objectSpread({},headers),{},{'content-type':'application/json'}),body:JSON.stringify(data)});}_context.next=8;return buildRequest;case 8:response=_context.sent;console.log(response);_context.next=12;return response.json();case 12:result=_context.sent;return _context.abrupt(\"return\",result);case 16:_context.prev=16;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 19:case\"end\":return _context.stop();}}},_callee,null,[[0,16]]);}));return function request(_x,_x2,_x3){return _ref.apply(this,arguments);};}();export var get=request.bind({},'GET');export var post=request.bind({},'POST');export var patch=request.bind({},'PATCH');export var put=request.bind({},'PUT');export var del=request.bind({},'DELETE');","map":{"version":3,"names":["request","method","url","data","user","localStorage","getItem","auth","JSON","parse","headers","accessToken","buildRequest","fetch","body","stringify","response","console","log","json","result","get","bind","post","patch","put","del"],"sources":["/Users/mariyannikolov/Documents/GitHub/BG-Baba/src/services/requester.js"],"sourcesContent":["\nconst request = async (method, url, data) => {\n    try {\n        const user = localStorage.getItem('auth');\n        const auth = JSON.parse(user || '{}');\n\n        let headers = {}\n\n        if (auth.accessToken) {\n            headers['X-Authorization'] = auth.accessToken;\n        }\n\n        let buildRequest;\n\n        if (method === 'GET') {\n            buildRequest = fetch(url, { headers });\n        } else {\n            buildRequest = fetch(url, {\n                method,\n                headers: {\n                    ...headers,\n                    'content-type': 'application/json'\n                },\n                body: JSON.stringify(data)\n            });\n        }\n        const response = await buildRequest;\n\n        console.log(response);\n\n        const result = await response.json();\n\n        return result;\n    } catch (error) {\n        console.log(error);\n    }\n};\n\nexport const get = request.bind({}, 'GET');\nexport const post = request.bind({}, 'POST');\nexport const patch = request.bind({}, 'PATCH');\nexport const put = request.bind({}, 'PUT');\nexport const del = request.bind({}, 'DELETE');"],"mappings":"2ZACA,GAAMA,QAAO,4FAAG,iBAAOC,MAAP,CAAeC,GAAf,CAAoBC,IAApB,uLAEFC,IAFE,CAEKC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAFL,CAGFC,IAHE,CAGKC,IAAI,CAACC,KAAL,CAAWL,IAAI,EAAI,IAAnB,CAHL,CAKJM,OALI,CAKM,EALN,CAOR,GAAIH,IAAI,CAACI,WAAT,CAAsB,CAClBD,OAAO,CAAC,iBAAD,CAAP,CAA6BH,IAAI,CAACI,WAAlC,CACH,CAID,GAAIV,MAAM,GAAK,KAAf,CAAsB,CAClBW,YAAY,CAAGC,KAAK,CAACX,GAAD,CAAM,CAAEQ,OAAO,CAAPA,OAAF,CAAN,CAApB,CACH,CAFD,IAEO,CACHE,YAAY,CAAGC,KAAK,CAACX,GAAD,CAAM,CACtBD,MAAM,CAANA,MADsB,CAEtBS,OAAO,gCACAA,OADA,MAEH,eAAgB,kBAFb,EAFe,CAMtBI,IAAI,CAAEN,IAAI,CAACO,SAAL,CAAeZ,IAAf,CANgB,CAAN,CAApB,CAQH,CAxBO,sBAyBeS,aAzBf,QAyBFI,QAzBE,eA2BRC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EA3BQ,uBA6BaA,SAAQ,CAACG,IAAT,EA7Bb,SA6BFC,MA7BE,+CA+BDA,MA/BC,4DAiCRH,OAAO,CAACC,GAAR,cAjCQ,qEAAH,kBAAPlB,QAAO,oDAAb,CAqCA,MAAO,IAAMqB,IAAG,CAAGrB,OAAO,CAACsB,IAAR,CAAa,EAAb,CAAiB,KAAjB,CAAZ,CACP,MAAO,IAAMC,KAAI,CAAGvB,OAAO,CAACsB,IAAR,CAAa,EAAb,CAAiB,MAAjB,CAAb,CACP,MAAO,IAAME,MAAK,CAAGxB,OAAO,CAACsB,IAAR,CAAa,EAAb,CAAiB,OAAjB,CAAd,CACP,MAAO,IAAMG,IAAG,CAAGzB,OAAO,CAACsB,IAAR,CAAa,EAAb,CAAiB,KAAjB,CAAZ,CACP,MAAO,IAAMI,IAAG,CAAG1B,OAAO,CAACsB,IAAR,CAAa,EAAb,CAAiB,QAAjB,CAAZ"},"metadata":{},"sourceType":"module"}